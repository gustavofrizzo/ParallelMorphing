
#-----------------------------
# Autor: Gustavo Frizzo
# Email: guto.smo@gmail.com
# 2011
#-----------------------------

from adpil import *
from parallel_morph import *


ini = adread('mm.pgm')
fin = adread('oo.pgm')
'''
for i in range(ini.shape[0]):
	for j in range(ini.shape[1]):
		if ini[i,j] == 0:
			ini[i,j] = 1 
		if fin[i,j] == 0:
			fin[i,j] = 1
'''	
periodo = 10

processos = 1

vini = [[0, 0], [0, 234], [324, 234], [324, 0], [212, 103], [224, 122], [211, 145], [241, 94], [266, 126], [241, 157], [294, 106], [296, 144], [264, 174], [225, 187], [181, 109], [181, 134], [176, 170], [178, 72], [223, 58], [160, 122], [151, 81], [146, 161], [92, 124], [105, 172], [105, 78], [91, 25], [10, 89], [8, 155], [56, 211], [130, 226], [190, 228], [269, 213], [242, 13], [265, 76], [133, 122], [201, 122], [312, 64], [303, 193], [140, 70], [141, 184], [173, 6]]

vfin = [[0, 0], [0, 234], [324, 234], [324, 0], [193, 91], [206, 122], [191, 153], [223, 75], [250, 121], [217, 166], [292, 96], [290, 148], [247, 179], [191, 198], [149, 102], [148, 137], [147, 183], [154, 51], [192, 34], [128, 120], [127, 62], [123, 171], [55, 116], [63, 177], [65, 48], [51, 27], [12, 82], [11, 144], [52, 196], [105, 209], [168, 215], [270, 181], [234, 34], [258, 64], [96, 120], [172, 119], [301, 59], [305, 177], [104, 44], [100, 191], [161, 8]]

liga = [array([ 0,  3, 40,  0]), array([ 3, 32, 40,  3]), array([ 0, 40, 25,  0]), array([32, 18, 40, 32]), array([25, 40, 38, 25]), array([ 3, 36, 32,  3]), array([18, 17, 40, 18]), array([38, 40, 17, 38]), array([18, 32, 33, 18]), array([36, 33, 32, 36]), array([38, 24, 25, 38]), array([38, 17, 20, 38]), array([33,  7, 18, 33]), array([ 0, 25, 26,  0]), array([17, 18,  4, 17]), array([ 7,  4, 18,  7]), array([36, 10, 33, 36]), array([20, 17, 14, 20]), array([ 4, 14, 17,  4]), array([24, 26, 25, 24]), array([24, 38, 20, 24]), array([14, 19, 20, 14]), array([14,  4, 35, 14]), array([24, 20, 34, 24]), array([7, 5, 4, 7]), array([ 7, 33,  8,  7]), array([10,  8, 33, 10]), array([34, 20, 19, 34]), array([35,  4,  5, 35]), array([34, 22, 24, 34]), array([35, 15, 14, 35]), array([19, 14, 15, 19]), array([26, 24, 22, 26]), array([5, 7, 8, 5]), array([ 5,  6, 35,  5]), array([10, 11,  8, 10]), array([15, 35,  6, 15]), array([8, 9, 5, 8]), array([6, 5, 9, 6]), array([34, 19, 21, 34]), array([15, 21, 19, 15]), array([26, 22, 27, 26]), array([21, 15, 16, 21]), array([22, 34, 23, 22]), array([ 9,  8, 12,  9]), array([11, 12,  8, 11]), array([ 6, 16, 15,  6]), array([21, 23, 34, 21]), array([ 9, 13,  6,  9]), array([23, 21, 39, 23]), array([16, 39, 21, 16]), array([11, 37, 12, 11]), array([16,  6, 13, 16]), array([12, 13,  9, 12]), array([27, 22, 23, 27]), array([23, 28, 27, 23]), array([36, 11, 10, 36]), array([37, 31, 12, 37]), array([13, 12, 31, 13]), array([13, 30, 16, 13]), array([23, 39, 29, 23]), array([39, 16, 30, 39]), array([27, 28,  1, 27]), array([29, 39, 30, 29]), array([28, 23, 29, 28]), array([31, 37,  2, 31]), array([31, 30, 13, 31]), array([11,  2, 37, 11]), array([36,  2, 11, 36]), array([29,  1, 28, 29]), array([30, 31,  2, 30]), array([ 3,  2, 36,  3]), array([ 0, 26, 27,  0]), array([ 0, 27,  1,  0]), array([30,  1, 29, 30]), array([ 1, 30,  2,  1])]

'''
vini = [[0, 0], [0, 295], [399, 295], [399, 0], [5, 152], [24, 87], [71, 58], [146, 37], [226, 34], [283, 46], [318, 70], [116, 101], [97, 150], [112, 194], [154, 210], [181, 213], [229, 211], [41, 226], [101, 248], [186, 252], [228, 247], [308, 225], [180, 100], [172, 117], [183, 132], [182, 159], [168, 177], [180, 195], [214, 131], [213, 168], [228, 149], [242, 117], [241, 178], [264, 150], [300, 134], [295, 168], [376, 160], [329, 267], [350, 22], [392, 89], [393, 236], [170, 147], [257, 95], [199, 83], [154, 91], [100, 120], [137, 147], [264, 197], [281, 111], [154, 107], [151, 188], [192, 116], [191, 181]]

vfin = [[0, 0], [0, 295], [399, 295], [399, 0], [12, 127], [33, 79], [79, 55], [119, 55], [176, 59], [197, 76], [229, 78], [70, 78], [55, 140], [55, 179], [97, 201], [139, 207], [195, 201], [27, 176], [87, 212], [128, 223], [165, 217], [271, 194], [133, 91], [122, 108], [128, 128], [124, 156], [117, 174], [127, 195], [165, 121], [159, 169], [171, 147], [191, 110], [183, 183], [205, 153], [247, 132], [238, 174], [269, 160], [294, 261], [271, 25], [333, 87], [348, 227], [114, 142], [194, 92], [149, 68], [102, 81], [55, 103], [83, 144], [222, 189], [220, 110], [112, 96], [102, 182], [141, 109], [131, 174]]


#Delaunay

liga = [array([0, 3, 8, 0]), array([ 3, 38,  8,  3]), array([8, 7, 0, 8]), array([ 8, 38,  9,  8]), array([7, 6, 0, 7]), array([ 9, 38, 10,  9]), array([ 8, 43,  7,  8]), array([0, 6, 5, 0]), array([ 3, 39, 38,  3]), array([ 9, 42,  8,  9]), array([ 7, 43, 44,  7]), array([43, 22, 44, 43]), array([ 6,  7, 11,  6]), array([44, 11,  7, 44]), array([10, 38, 39, 10]), array([43,  8, 42, 43]), array([42,  9, 48, 42]), array([10, 48,  9, 10]), array([44, 22, 49, 44]), array([43, 51, 22, 43]), array([49, 22, 23, 49]), array([11, 44, 49, 11]), array([42, 31, 43, 42]), array([51, 23, 22, 51]), array([11, 45,  6, 11]), array([51, 43, 28, 51]), array([31, 28, 43, 31]), array([23, 51, 24, 23]), array([48, 31, 42, 48]), array([10, 34, 48, 10]), array([ 5,  6, 45,  5]), array([28, 24, 51, 28]), array([24, 41, 23, 24]), array([49, 46, 11, 49]), array([28, 31, 30, 28]), array([31, 48, 33, 31]), array([45, 11, 46, 45]), array([23, 46, 49, 23]), array([46, 23, 41, 46]), array([34, 33, 48, 34]), array([41, 24, 25, 41]), array([30, 31, 33, 30]), array([46, 12, 45, 46]), array([39, 34, 10, 39]), array([28, 25, 24, 28]), array([39, 36, 34, 39]), array([30, 29, 28, 30]), array([33, 34, 35, 33]), array([25, 28, 29, 25]), array([25, 26, 41, 25]), array([33, 32, 30, 33]), array([ 5, 45,  4,  5]), array([12,  4, 45, 12]), array([29, 52, 25, 29]), array([29, 30, 32, 29]), array([46, 41, 26, 46]), array([26, 25, 52, 26]), array([26, 50, 46, 26]), array([12, 46, 13, 12]), array([52, 27, 26, 52]), array([32, 33, 47, 32]), array([36, 35, 34, 36]), array([35, 47, 33, 35]), array([50, 13, 46, 50]), array([50, 26, 27, 50]), array([32, 16, 29, 32]), array([50, 27, 14, 50]), array([52, 29, 16, 52]), array([47, 16, 32, 47]), array([14, 27, 15, 14]), array([13, 50, 14, 13]), array([0, 5, 4, 0]), array([ 4, 12, 17,  4]), array([52, 15, 27, 52]), array([47, 35, 21, 47]), array([16, 15, 52, 16]), array([13, 17, 12, 13]), array([36, 21, 35, 36]), array([17, 13, 18, 17]), array([36, 40, 21, 36]), array([16, 20, 15, 16]), array([14, 18, 13, 14]), array([20, 19, 15, 20]), array([14, 15, 19, 14]), array([47, 20, 16, 47]), array([21, 40, 37, 21]), array([21, 20, 47, 21]), array([18, 14, 19, 18]), array([ 4, 17,  1,  4]), array([40,  2, 37, 40]), array([20, 21, 37, 20]), array([39, 40, 36, 39]), array([18,  1, 17, 18]), array([19,  1, 18, 19]), array([19, 20, 37, 19]), array([19, 37,  2, 19]), array([ 1, 19,  2,  1]), array([39,  2, 40, 39]), array([ 3,  2, 39,  3]), array([0, 4, 1, 0])]

'''
morphing(ini, fin, vfin, vini, liga, periodo, processos)
